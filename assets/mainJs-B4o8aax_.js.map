{"version":3,"file":"mainJs-B4o8aax_.js","sources":["../../js/main.js"],"sourcesContent":["// import $ from \"jquery\";\r\n// window.$ = $;\r\n// window.jQuery = $;\r\n\r\nconst $ = window.jQuery;\r\n\r\n\r\n//import \"./menu.js\";\r\n\r\n\r\n\r\n\r\n// Вызов setupCounter — только если функция определена (защита от Vite шаблонных артефактов)\r\nconst counterEl = document.querySelector('#counter');\r\nif (counterEl && typeof window.setupCounter === 'function') {\r\n    window.setupCounter(counterEl);\r\n}\r\n\r\n//--- скрипт подключение картинок\r\nasync function includePart(el) {\r\n    const url = el.getAttribute('data-include');\r\n    const res = await fetch(url);\r\n    if (!res.ok) throw new Error(`Include failed: ${url}`);\r\n    el.outerHTML = await res.text();\r\n}\r\n\r\nasync function includeAll() {\r\n    const nodes = document.querySelectorAll('[data-include]');\r\n    await Promise.all([...nodes].map(includePart));\r\n}\r\n\r\n\r\nincludeAll().catch(console.error);\r\n\r\n\r\n// --- arrows as DATA URI (exactly your white-up2.svg & orange-up2.svg) ---\r\nconst WHITE_ARROW =\r\n    \"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20width%3D%2222%22%20height%3D%2222%22%20viewBox%3D%220%200%2022%2022%22%3E%3Cpath%20fill%3D%22%23fff%22%20d%3D%22M17.98%2C6.06%2C17.98%2C4.02%2C15.94%2C4.02%2C15.94%2C4.04%2C5.02%2C4.04%2C5.02%2C6.06%2C14.48%2C6.06%2C4.02%2C16.52%2C5.48%2C17.98%2C15.94%2C7.52%2C15.94%2C17.98%2C17.98%2C17.98%2C17.98%2C6.06Z%22/%3E%3C/svg%3E\";\r\n\r\nconst ORANGE_ARROW =\r\n    \"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20width%3D%2222%22%20height%3D%2222%22%20viewBox%3D%220%200%2022%2022%22%3E%3Cpath%20fill%3D%22%23f80%22%20d%3D%22M17.98%2C6.06%2C17.98%2C4.02%2C15.94%2C4.02%2C15.94%2C4.04%2C5.02%2C4.04%2C5.02%2C6.06%2C14.48%2C6.06%2C4.02%2C16.52%2C5.48%2C17.98%2C15.94%2C7.52%2C15.94%2C17.98%2C17.98%2C17.98%2C17.98%2C6.06Z%22/%3E%3C/svg%3E\";\r\n\r\n// ставимо білі стрілки одразу (щоб не було src=\"\")\r\ndocument.querySelectorAll(\".engRow__arrowIcon\").forEach((img) => {\r\n    img.src = WHITE_ARROW;\r\n});\r\n\r\n// акордеон — клік по всьому блоку\r\ndocument.addEventListener(\"click\", (e) => {\r\n    const row = e.target.closest(\".js-engRow\");\r\n    if (!row) return;\r\n\r\n    const panel = row.nextElementSibling?.classList.contains(\"js-engPanel\")\r\n        ? row.nextElementSibling\r\n        : null;\r\n\r\n    if (!panel) return;\r\n\r\n    const icon = row.querySelector(\".engRow__arrowIcon\");\r\n\r\n    const isOpen = row.classList.toggle(\"is-open\");\r\n    row.setAttribute(\"aria-expanded\", String(isOpen));\r\n\r\n    if (icon) icon.src = isOpen ? ORANGE_ARROW : WHITE_ARROW;\r\n\r\n    const item = row.closest(\".engItem\");\r\n    if (item) item.classList.toggle(\"is-open\", isOpen);\r\n\r\n    panel.hidden = !isOpen;\r\n    panel.classList.toggle(\"is-open\", isOpen);\r\n});\r\n\r\n\r\n/// ./js/main.js\r\n// Prime Energy Group — main interactions (vanilla JS)\r\n\r\nfunction initWhyUsReveal() {\r\n    const tabs = document.querySelector(\".whyus__tabs\");\r\n    if (!tabs) return;\r\n\r\n    // Якщо вже видно на старті (наприклад, перезавантаження посеред сторінки)\r\n    const inViewportNow = () => {\r\n        const r = tabs.getBoundingClientRect();\r\n        const vh = window.innerHeight || document.documentElement.clientHeight;\r\n        return r.top < vh * 0.8 && r.bottom > vh * 0.2;\r\n    };\r\n\r\n    if (inViewportNow()) {\r\n        tabs.classList.add(\"is-inview\");\r\n        return;\r\n    }\r\n\r\n    const io = new IntersectionObserver(\r\n        (entries) => {\r\n            for (const e of entries) {\r\n                if (e.isIntersecting) {\r\n                    tabs.classList.add(\"is-inview\");\r\n                    io.disconnect(); // один раз\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n        { threshold: 0.2 }\r\n    );\r\n\r\n    io.observe(tabs);\r\n}\r\n\r\nfunction initEngineeringAccordion() {\r\n    const rows = Array.from(document.querySelectorAll(\".js-engRow\"));\r\n    if (!rows.length) return;\r\n\r\n    const closeRow = (row) => {\r\n        const panel = row.parentElement?.querySelector(\".js-engPanel\");\r\n        const btn = row.querySelector(\".js-engArrow\");\r\n        const icon = btn?.querySelector(\"img\");\r\n\r\n        row.setAttribute(\"aria-expanded\", \"false\");\r\n        if (panel) panel.hidden = true;\r\n\r\n        if (btn && icon) {\r\n            const closed = btn.getAttribute(\"data-src-closed\");\r\n            if (closed) icon.src = closed;\r\n        }\r\n    };\r\n\r\n    const openRow = (row) => {\r\n        const panel = row.parentElement?.querySelector(\".js-engPanel\");\r\n        const btn = row.querySelector(\".js-engArrow\");\r\n        const icon = btn?.querySelector(\"img\");\r\n\r\n        row.setAttribute(\"aria-expanded\", \"true\");\r\n        if (panel) panel.hidden = false;\r\n\r\n        if (btn && icon) {\r\n            const open = btn.getAttribute(\"data-src-open\");\r\n            if (open) icon.src = open;\r\n        }\r\n    };\r\n\r\n    rows.forEach((row) => {\r\n        // клік по всьому рядку або по кнопці\r\n        row.addEventListener(\"click\", (e) => {\r\n            const isButton = e.target.closest(\".js-engArrow\");\r\n            const clickedInsideRow = e.target.closest(\".js-engRow\");\r\n            if (!isButton && !clickedInsideRow) return;\r\n\r\n            const expanded = row.getAttribute(\"aria-expanded\") === \"true\";\r\n\r\n            // якщо треба “тільки один відкритий” — закриваємо інші\r\n            rows.forEach((r) => {\r\n                if (r !== row) closeRow(r);\r\n            });\r\n\r\n            if (expanded) closeRow(row);\r\n            else openRow(row);\r\n        });\r\n\r\n        // початково — закрито (на випадок якщо HTML десь зламався)\r\n        if (row.getAttribute(\"aria-expanded\") !== \"true\") closeRow(row);\r\n    });\r\n}\r\n\r\nfunction initSmoothAnchorScroll() {\r\n    // легкий UX: плавно скролимо до якорів\r\n    document.addEventListener(\"click\", (e) => {\r\n        const a = e.target.closest('a[href^=\"#\"]');\r\n        if (!a) return;\r\n\r\n        const id = a.getAttribute(\"href\");\r\n        if (!id || id === \"#\") return;\r\n\r\n        const target = document.querySelector(id);\r\n        if (!target) return;\r\n\r\n        e.preventDefault();\r\n\r\n        const header = document.querySelector(\"header\");\r\n        const headerH = header ? header.getBoundingClientRect().height : 0;\r\n\r\n        const top =\r\n            target.getBoundingClientRect().top +\r\n            window.pageYOffset -\r\n            Math.round(headerH);\r\n\r\n        window.scrollTo({ top, behavior: \"smooth\" });\r\n    });\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    initWhyUsReveal();\r\n    initEngineeringAccordion();\r\n    initSmoothAnchorScroll();\r\n});"],"names":[],"mappings":"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"}